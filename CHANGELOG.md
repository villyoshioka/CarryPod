# リリースノート

## 2.8.0 - 2026-02-11

### 機能追加

- **Wrangler経由のデプロイに対応**: Cloudflare Workersの設定画面に「Wrangler」オプションを追加しました。「使用する」に切り替えると、`_headers`ファイルが機能するようになり、Cloudflare管理画面でのレスポンス ヘッダー変換ルール設定が不要になります。Node.jsとWranglerがインストールされている環境で利用できます。

### 改善

- **`_headers`ファイルにX-Content-Type-Optionsヘッダーを復活**: v2.7.2で削除したnosniffヘッダーを再追加しました。Wrangler経由のデプロイではContent-Typeが正常に機能するため、nosniffが安全に追加できます。
- **レスポンス ヘッダー変換ルールガイドの文言を改善**: ガイドのタイトルと説明文をより分かりやすい表現に変更しました。
- **設定画面のUI微調整**: APIトークン入力欄のスタイル統一、コミットメッセージ入力欄の全幅化などの調整を行いました。
- **スマートフォン・タブレット表示の最適化**: ボタンのセンタリング、ツールチップの表示位置最適化、コミットメッセージ入力欄のレイアウト改善など、モバイル端末での操作性を大幅に向上しました。

---

## 2.7.2 - 2026-02-08

### 改善

- **Cloudflare Workers向けTransform Rulesガイドを更新**: CSS/JSファイルのContent-Type設定ルール（ルール3・4）を追加しました。Cloudflare WorkersではCSS/JSにContent-Typeヘッダーが付与されないため、これらのルールがないとブラウザがCSS/JSの読み込みをブロックしてしまう場合があります。
- **`_headers`ファイルからX-Content-Type-Optionsヘッダーを削除**: 静的サイトではnosniffヘッダーは不要なため、生成される`_headers`ファイルから除外しました。

---

## 2.7.1 - 2026-02-08

### バグ修正

- `_headers`ファイルのチェックボックスが無効時に、ヘルプボタンが操作できてしまう問題を修正しました。
- 実行画面をスマートフォンで表示した際にボタンの表示が崩れる問題を修正しました。
- 設定インポート時に出力先の構成によって`_headers`生成設定が不正な状態になってしまうことがある問題を修正しました。

---

## 2.7.0 - 2026-02-08

### 機能追加

- **Cloudflare Workers向けセキュリティヘッダーガイド**: Cloudflare Workers有効時に、Transform Rulesの設定手順を折りたたみガイドとして表示するようになりました。Workers Static Assetsでは`_headers`ファイルが機能しないため、代替手段として必要なルール設定を案内します。

### 改善

- **\_headersファイルのWorkerデプロイ除外**: `_headers`ファイルはCloudflare Workersへのデプロイ時に自動的に除外されるようになりました。
- **\_headersチェックボックスの自動制御**: Cloudflare Workersのみが有効な場合、`_headers`生成チェックボックスを自動的に無効化します。
- **パフォーマンス改善**: 設定画面の開閉アニメーションを高速化し、操作のレスポンスを向上させました。
- **実行画面のレイアウト調整**: ボタンサイズとコミットメッセージセクションの余白を改善しました。

---

## 2.6.0 - 2026-02-06

### 機能追加

- **Mati連携強化**: Matiプラグインと連携して、静的サイト向けのセキュリティヘッダー設定ファイル（\_headers）を自動生成できるようになりました。Matiの設定に応じて、Content-Security-Policy、X-Content-Type-Options、X-Robots-Tagなどのセキュリティヘッダーを自動的に設定します。

### 改善

- **実行画面のUI改善**: 静的化実行画面のボタン配置を最適化しました。

---

## 2.5.0 - 2026-01-29

### 機能追加

- **llms.txt出力対応**: LLM（大規模言語モデル）向けのサイト情報提供ファイル（llms.txt）の出力に対応しました。AIクローラーに対してレート制限やアクセスポリシーを伝えることができます。デフォルトではAI学習への利用を禁止する設定になっています。

### 改善

- **実行画面のUI改善**: 実行画面のレイアウトを改善しました。

---

## 2.4.0 - 2026-01-28

### 改善

- **設定画面のUI改善**: URL形式の設定UIを変更し、より見やすくなりました。
- **RSSフィードの静的対応**: RSSフィード内のURLが常に静的化後の絶対URL形式で出力されるようになりました。

---

## 2.3.4 - 2026-01-20

### バグ修正

- プラグインの設定によってはダッシュボードのクイックドラフトが操作できなくなることがある問題を修正しました。
- 投稿の公開/非公開を変更した際、キャッシュが正しくクリアされず前後の投稿ページのナビゲーションリンクが更新されない問題を修正しました。

---

## 2.3.3 - 2026-01-15

### バグ修正

- 特定の条件下でHTML上で参照されている画像ファイルが正しくコピーされない問題を修正しました。

### セキュリティ

- ファイル処理のセキュリティを強化しました。

---

## 2.3.2 - 2026-01-12

### バグ修正

- Cloudflare Workers: 静的サイトの配信に関する問題を修正しました。

---

## 2.3.1 - 2026-01-07

### バグ修正

- キャッシュが有効な状態で新規投稿を追加しても反映されない問題を修正しました。

---

## 2.3.0 - 2026-01-04

### 機能追加

- **Matiとの連携機能**: Mati(v1.3.0+)と連携し、キャッシュクリア時に自動的にMatiの設定が更新されるようになりました。

---

## 2.2.2 - 2026-01-03

### バグ修正

- 特定の方法で参照されている音声・動画ファイルや、カスタマイザー設定で参照されているメディアファイルが正しく含まれない問題を修正しました。

---

## 2.2.1 - 2026-01-02

### 改善

- ヘルプボタンのデザインを調整しました。

---

## 2.2.0 - 2026-01-02

### 機能追加

- **HTML圧縮機能**: HTMLファイルを圧縮してファイルサイズを削減できるようになりました。
- **インラインCSS圧縮機能**: インラインCSSを圧縮してファイルサイズを削減できるようになりました。

### 改善

- **設定画面のユーザビリティ向上**: ヘルプテキストをツールチップ化し、画面がすっきりと見やすくなりました。
- **設定項目の再配置**: URL設定を「その他の設定」から「出力先設定」に移動しました。
- **エラーメッセージの改善**: 設定保存時のエラーメッセージをより具体的で分かりやすい内容に改善しました。
- サイトマップのSEO最適化: サイトマップの優先度を調整しました。

### バグ修正

- Netlifyへのファイルアップロード時に、XMLファイル（RSSフィード等）が正しくアップロードされない問題を修正しました。

---

## 2.1.0 - 2025-12-28

### 機能追加

- **サイトマップの改善**: 独自のサイトマップ生成機能を実装しました。  
  WordPressネイティブのサイトマップ（`wp-sitemap.xml`）を使用せず、静的化されたファイルのみを含むサイトマップを生成します。
- **URL設定の改善**: 相対URLモードでも「URL」設定が入力できるようになりました。
  サイトマップやrobots.txtで使用するベースURLを設定できます。

### 改善

- 設定画面のセクションタイトルを改善しました。  
  「詳細設定」→「その他の設定」  
  「配信先設定」→「出力先設定」

---

## 2.0.1 - 2025-12-26

### 改善

- パフォーマンスを改善しました。

---

## 2.0.0 - 2025-12-25

### 重要な変更

- **内部名称の刷新**: SGE（Static Generation Engine）からCP（Carry Pod）へ完全移行しました。  
  v1.4.2以前からの自動アップデートは提供しません。手動移行のみとなります。

### 機能追加

- **カスタムフォルダ名機能**: wp-includes / wp-content を任意の名称に変更できるようになりました。  
  SEO対策やセキュリティ向上に有効です。
- **絶対URL時のベースURL設定**: 絶対URLモード選択時に、カスタムURLを設定できるようになりました。  
  異なるドメインへのデプロイに対応しました。
- **設定画面UIの刷新**: 設定項目の見出しをアコーディオンデザインに変更しました。  
  スクロール量が大幅に減少し、操作性が向上しました。
- **自動生成時の進捗追跡**: 自動生成でも手動生成と同じように実行画面に進捗が表示されるようになりました。

### 改善

- robots.txtの出力内容を改善しました。（主要な検索エンジンのみを許可し、AIクローラーなどをブロックする設定を記載して出力するようになりました）  
  ローカルディレクトリ出力の場合は、生成後に直接編集してカスタマイズすることも可能です。
- ヘルプテキストをより分かりやすい表現に改善しました。
- 実行画面のUIを調整しました。
- カスタムフォルダ名やURL形式を変更した際に、自動でキャッシュをクリアするようになりました。

### バグ修正

- 追加ファイル・除外ファイル設定で、macOS/Windowsからコピーしたパスをそのまま貼り付けると静的化実行時にエラーになる問題を修正しました。

### セキュリティ強化

- 全体的なセキュリティ強化を実施しました。

---

## 1.4.2 - 2025-12-16

### 改善

- 内部機能の更新とパフォーマンス改善を行いました。

### バグ修正

- Git未インストール警告が誤表示される問題を修正しました。
- 設定のデフォルト値にローカルGit、Netlify、ZIP出力パスの項目が不足していた問題を修正しました。

---

## 1.4.1 - 2025-12-14

### バグ修正

- プラグイン削除時にエラーが発生する問題を修正しました。

---

## 1.4.0 - 2025-12-14

### 重要な変更

- プラグイン名を「Static Generation Engine」から「Carry Pod」に変更しました。

### 機能追加

- Netlify 出力に対応しました。
- エラー時の管理画面通知機能を追加しました。（メニューバッジ＋ページ内通知）
- エラー時の進捗バー表示を追加しました。（赤色で「エラーが発生しました」と表示）

### バグ修正

- JavaScriptコメント構文が静的化時に不正な状態になることがある問題を修正しました。
- 一部の設定UIが狭くなっていた問題を修正しました。

### セキュリティ強化

- 全体的なセキュリティ強化を実施しました。

---

## 1.3.4 - 2025-12-01

### バグ修正

- アップデート周りのバグを修正しました。
- 設定リセット時にZIP出力が有効のままになる問題を修正しました。
- ZIP出力有効時に出力先パスが空でも保存できてしまう問題を修正しました。

---

## 1.3.3 - 2025-11-30

### バグ修正

- 管理画面のチェックボックス・ラジオボタンが二重表示される問題を修正しました。

---

## 1.3.2 - 2025-11-30

### バグ修正

- ログの設定情報出力が1.1.0時点の項目のままだった問題を修正しました。
  - GitLab出力、Cloudflare Workers出力、ZIP出力の設定を追加しました。
  - 出力対象設定（タグアーカイブ、日付アーカイブ、著者アーカイブ、サイトマップ、robots.txt、RSS）を追加しました。

---

## 1.3.1 - 2025-11-30

### バグ修正

- 自動更新が正しく動作しない問題を修正しました。

---

## 1.3.0 - 2025-11-30

### 改善

- 権限ごとの制限を追加しました。（管理者は設定変更+実行、編集者は実行のみに制限）
- UI のスマートフォン・タブレットへの対応を行いました。
- パフォーマンスの高速化を実施しました。
- 出力ファイルの最適化を実施しました。

### バグ修正

- GitLab へのプッシュ時に差分検出が機能していなかった問題を修正しました。
- 設定リセット時にトークン（GitHub/GitLab/Cloudflare）がクリアできていなかった問題を修正しました。

---

## 1.2.0 - 2025-11-29

### 機能追加

- GitLab 出力に対応しました。
- Cloudflare Workers 出力に対応しました。
- プラグインの自動更新に対応しました。
- デバッグモードを追加しました。（URL に `&debugmode=on` / `&debugmode=off` で切り替え）

### 改善

- UI の一部整理を行いました。
- 未使用の CSS/JS/メディアファイルを出力から除外するようになりました。
- ZIP 圧縮率の最適化を実施しました。
- ログの簡略化を実施しました。

### セキュリティ強化

- 全体的なセキュリティー強化を実施しました。

---

## 1.1.0 - 2025-11-26

初回公開バージョンです。

### 機能追加

- タグ・日付・著者アーカイブの個別制御機能を追加しました。
- XML サイトマップ・RSS フィードの生成制御機能を追加しました。
- 処理の中止機能を追加しました。

### 改善

- 差分検出機能により 2 回目以降の変換速度を改善しました。
- バッチアップロード処理を実装しました。
- メモリ効率の改善を実施しました。
- デフォルト設定でキャッシュと並列処理を有効化しました。
- ログ表示の簡略化しました。
- ローカル Git 出力を GitHub 設定から分離し、独立した出力先として追加しました。

### バグ修正

- GitHub 出力時の進捗表示が不正確だった問題を修正しました。
- コミットメッセージのタイムスタンプが更新されない問題を修正しました。
- 空のリポジトリへの初回コミット時にエラーで失敗する問題を修正しました。
- ZIP 出力時に一時フォルダの構造が含まれる問題を修正しました。

### セキュリティ強化

- 全体的なセキュリティの強化を実施しました。

---

## 1.0.0 - 2025-11-21 (非公開版)

内部開発バージョンです。公開版は 1.1.0 からとなります。

### 初回リリース

- GitHub/ローカル Git/ローカルディレクトリへの出力機能を実装しました。
- 並列処理による高速変換機能を実装しました。
- 自動静的化機能を実装しました。
- 進捗表示とログ管理機能を実装しました。
- 設定のエクスポート/インポート機能を実装しました。

---

**対応環境**: WordPress 6.0 以上、PHP 7.4 以上
